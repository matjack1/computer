#!/usr/bin/env bash

exists() {
  command -v "$1" >/dev/null 2>&1
}

apt-install() {
  sudo apt install -y "$1"
}

### Command line

if ! exists git ; then
  echo "Installing git..."
  apt-install git
fi

if ! exists thefuck ; then
  echo "Install The Fuck..."
  apt-install python3-dev python3-pip
  sudo pip3 install thefuck
fi

if ! exists zsh ; then
  echo "Installing zsh..."
  apt-install zsh
  chsh -s $(which zsh)
  sh -c "$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)"
fi


### Editor

if ! exists vim ; then
  echo "Installing vim..."
  apt-install vim
fi

if ! exists atom ; then
	echo "Install Atom..."
	wget https://atom.io/download/deb -O atom.deb
	sudo dpkg -i atom.deb
	rm atom.deb
fi

### Tools

if ! exists vagrant ; then
	echo "Install Vagrant..."
  # We need Vagrant > 2.1 to use VVV
	wget https://releases.hashicorp.com/vagrant/2.1.1/vagrant_2.1.1_x86_64.deb -O vagrant.deb
  sudo dpkg -i vagrant.deb
  rm vagrant.deb
fi

if ! exists virtualbox ; then
	echo "Install Virtualbox..."
	apt-install virtualbox
  echo "Remember to enable the VTx flag in the BIOS, it's needed from Virtualbox"
fi

### Desktop

if ! exists dropbox ; then
  echo "Installing Dropbox..."
  apt-install nautilus-dropbox
fi

echo "Done!"
